<!-- views/chat.ejs -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chats</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="chat-body">
  <div class="chat-container">
    <div class="sidebar">
      <h3>Welcome, <%= currentUser.username %></h3>
      <ul>
        <% recentChats.forEach(c => { %>
          <li>
            <a href="/chat/<%= c.user._id %>">
              <% if (c.user.profileImage && c.user.profileImage.url) { %>
                <img src="<%= c.user.profileImage.url %>" alt="profile" class="avatar">
              <% } else { %>
                <img src="/path/to/default-avatar.jpg" alt="profile" class="avatar"> <!-- Add your default avatar here -->
              <% } %>
              <span><%= c.user.username %></span><br>
              <small><%= c.lastMessage ? c.lastMessage.content || '[media]' : 'Start chat' %></small>
            </a>
          </li>
        <% }) %>
      </ul>
    </div>

    <div class="main-chat">
      <p>Select a user to start chatting â†’</p>
    </div>
  </div>
</body>
</html>
